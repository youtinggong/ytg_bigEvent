import{u as y,r as i,c as p,b as a,o,d as s,e as d,z as E,D as b,f as r,aT as f,h as _,bP as g,bQ as w,E as x}from"./index-CS-6Rb6g.js";import{_ as A,E as B}from"./_plugin-vue_export-helper-u328es9E.js";import{E as S}from"./el-progress-XbEZ0TyI.js";import{P as C}from"./PageContainer-D-wUjDNd.js";import"./el-message-HN8d9Jlk.js";import"./isEqual-CcErd-3w.js";const R=["src"],N={__name:"UserAvatar",setup(P){const l=y(),t=i(l.user.user_pic),n=i(),m=u=>{const e=new FileReader;e.readAsDataURL(u.raw),e.onload=()=>{t.value=e.result}},v=async()=>{await w(t.value),await l.getUser(),x.success("头像更像成功")};return(u,e)=>{const k=b,U=S,c=B;return o(),p(C,{title:"更换头像"},{default:a(()=>[s(U,{ref_key:"uploadRef",ref:n,"auto-upload":!1,class:"avatar-uploader","show-file-list":!1,"on-change":m},{default:a(()=>[t.value?(o(),E("img",{key:0,src:t.value,class:"avatar"},null,8,R)):(o(),p(k,{key:1,class:"avatar-uploader-icon"},{default:a(()=>[s(r(f))]),_:1}))]),_:1},512),e[3]||(e[3]=d("br",null,null,-1)),e[4]||(e[4]=d("br",null,null,-1)),s(c,{onClick:e[0]||(e[0]=V=>n.value.$el.querySelector("input").click()),type:"primary",icon:r(f)},{default:a(()=>e[1]||(e[1]=[_("选择图片")])),_:1},8,["icon"]),s(c,{onClick:v,type:"success",icon:r(g)},{default:a(()=>e[2]||(e[2]=[_("上传头像")])),_:1},8,["icon"])]),_:1})}}},z=A(N,[["__scopeId","data-v-01aa2a07"]]);export{z as default};
