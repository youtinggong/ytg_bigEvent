import{r as n,u as V,c as k,b as l,o as U,d as e,h as w,bO as x,E as y}from"./index-DLsXqDvz.js";import{a as C,E as I}from"./el-col-CCfGRtn6.js";import{E as P,a as B}from"./el-form-item-ByAid4mc.js";import{_ as F,E as R}from"./_plugin-vue_export-helper-BlVBi78h.js";import{E as S}from"./el-input-BLNwR6qj.js";import{P as q}from"./PageContainer-BUAGa99V.js";import"./el-message-BWcdDw2L.js";const N={__name:"UserProfile",setup(M){const m=n(),{user:{email:u,id:i,nickname:d,username:p},getUser:_}=V(),a=n({id:i,username:p,nickname:d,email:u}),f={nickname:[{required:!0,message:"请输入昵称",trigger:"blur"},{pattern:/^\S{2,10}$/,message:"昵称长度应为2-10位非空字符",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}]},c=async()=>{await m.value.validate(),await x(a.value),_(),y.success("修改成功")};return(O,o)=>{const s=S,r=B,g=R,b=P,v=I,E=C;return U(),k(q,{title:"基本资料"},{default:l(()=>[e(E,null,{default:l(()=>[e(v,{span:12},{default:l(()=>[e(b,{ref_key:"formRef",ref:m,model:a.value,rules:f,"label-width":"100px"},{default:l(()=>[e(r,{label:"登录名称"},{default:l(()=>[e(s,{modelValue:a.value.username,"onUpdate:modelValue":o[0]||(o[0]=t=>a.value.username=t),disabled:""},null,8,["modelValue"])]),_:1}),e(r,{label:"用户昵称",prop:"nickname"},{default:l(()=>[e(s,{modelValue:a.value.nickname,"onUpdate:modelValue":o[1]||(o[1]=t=>a.value.nickname=t),placeholder:"请输入昵称"},null,8,["modelValue"])]),_:1}),e(r,{label:"用户邮箱",prop:"email"},{default:l(()=>[e(s,{modelValue:a.value.email,"onUpdate:modelValue":o[2]||(o[2]=t=>a.value.email=t),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),e(r,null,{default:l(()=>[e(g,{type:"primary",onClick:c},{default:l(()=>o[3]||(o[3]=[w("提交修改")])),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})}}},H=F(N,[["__scopeId","data-v-7929b1f3"]]);export{H as default};
